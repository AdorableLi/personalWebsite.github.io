{"version":3,"file":"js/881.c6b863bf.js","mappings":"2HACO,SAASA,EAASC,EAAKC,EAAKC,EAAIC,GACnC,IAAIC,EAAUC,OAAOC,EAAUC,OAAOP,GAAMO,OAAON,GAAMC,GAAIM,QAAQL,EAAQ,IACzEM,EAASF,OAAOH,EAAQM,MAAM,EAAGN,EAAQO,OAAS,IACtD,OAAOF,EAGJ,SAASG,EAAUC,GACtB,OAAOC,KAAKC,MAAMF,KAASA,EAGxB,SAASG,EAAUC,GACtB,IAAIC,EAAM,CAAEC,MAAO,EAAGC,IAAK,GAE3B,GAAIR,EAAUK,GAEV,OADAC,EAAIE,IAAMH,EACHC,EAEX,IAAIG,EAAQJ,EAAW,GAEnBK,EAASD,EAAME,QAAQ,KAEvBC,EAAMH,EAAMI,OAAOH,EAAS,GAAGX,OAE/Be,EAAOZ,KAAKa,IAAI,GAAIH,GAEpBI,EAASC,SAASZ,EAAWS,EAAO,GAAK,IAG7C,OAFAR,EAAIC,MAAQO,EACZR,EAAIE,IAAMQ,EACHV,EAGJ,SAASZ,EAAUN,EAAKC,EAAKC,GAChC,IAAI4B,EAAKd,EAAUhB,GACf+B,EAAKf,EAAUf,GACf+B,EAAKF,EAAGV,IACRa,EAAKF,EAAGX,IACRc,EAAKJ,EAAGX,MACRgB,EAAKJ,EAAGZ,MACRiB,EAAMF,EAAKC,EAAKD,EAAKC,EACrB1B,EAAS,KACb,OAAQP,GACJ,IAAK,MAQD,OANIO,EADAyB,IAAOC,EACEH,EAAKC,EACPC,EAAKC,EACHH,EAAKC,GAAMC,EAAKC,GAEhBH,GAAMG,EAAKD,GAAMD,EAEvBxB,EAAS2B,EAEpB,IAAK,MAQD,OANI3B,EADAyB,IAAOC,EACEH,EAAKC,EACPC,EAAKC,EACHH,EAAKC,GAAMC,EAAKC,GAEhBH,GAAMG,EAAKD,GAAMD,EAEvBxB,EAAS2B,EAEpB,IAAK,MAED,OADA3B,EAAUuB,EAAKC,GAAOC,EAAKC,GACpB1B,EAEX,IAAK,MAED,OADAA,EAASuB,EAAKC,GAAMC,EAAKC,GAClB1B,G,iLCnEV4B,MAAM,a,UACPC,EAAAA,EAAAA,GAA2C,OAAtCD,MAAM,IAAG,2BAAuB,K,GAChCA,MAAM,gB,WAgBgC,Q,UACvCC,EAAAA,EAAAA,GAAoE,OAA/DC,KAAK,MAAMF,MAAM,kBAAiB,2BAAuB,K,UAElEC,EAAAA,EAAAA,GAIM,OAJDE,GAAG,gBAAgBH,MAAM,iB,EAC1BC,EAAAA,EAAAA,GAEM,OAFDE,GAAG,eAAeH,MAAM,gB,EACzBC,EAAAA,EAAAA,GAA6B,UAArBE,GAAG,eAAQ,K,gGAvB/BC,EAAAA,EAAAA,IA0BM,MA1BNC,EA0BM,CAzBFC,GACAL,EAAAA,EAAAA,GAGM,MAHNM,EAGM,EAFFN,EAAAA,EAAAA,GAAuC,UAA9BO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,KAAK,SAAQ,MAC7BX,EAAAA,EAAAA,GAAuC,UAA9BO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,KAAK,SAAQ,QAEjCC,EAAAA,EAAAA,IAcYC,EAAA,CAbRd,MAAM,cACNe,OAAO,8CACN,aAAYC,EAAAC,cACZ,YAAWD,EAAAE,aACX,aAAYF,EAAAG,cACZ,gBAAeH,EAAAI,aAChBC,SAAA,GACCC,MAAO,EACP,YAAWN,EAAAO,aACX,YAAWZ,EAAAa,U,mBAEZ,IAAuD,EAAvDX,EAAAA,EAAAA,IAAuDY,EAAA,CAA5CC,KAAK,QAAQC,KAAK,W,mBAAU,IAAI,M,MAC3CC,K,wFAEJC,ICtBO,SAASC,EAAgBtD,EAAKuD,EAAKC,GAYhD,OAXID,KAAOvD,EACTyD,OAAOC,eAAe1D,EAAKuD,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ7D,EAAIuD,GAAOC,EAGNxD,E,cDsBT,MAAM8D,EASFC,YACIpC,EACAqC,EAAU,CACNC,OAAQ,GACRC,MAAO,EACPC,OAAQ,EACRC,UAAW,GACXC,WAAY,KAElBf,EAAA,iBAjBU,CAAEgB,EAAG,EAAGC,EAAG,IAAKjB,EAAA,gBACjB,CAAEgB,EAAG,EAAGC,EAAG,IAAKjB,EAAA,SACvB,GAAGA,EAAA,SACH,GAAGA,EAAA,WACD,IAAEA,EAAA,gBACG,GAAGA,EAAA,wBACK,IA6CnBA,EAAA,oBACckB,IACO,IAAbA,EAAEC,SACFC,KAAKJ,EAAIE,EAAEG,QAAUD,KAAKE,SAASN,EACnCI,KAAKH,EAAIC,EAAEK,QAAUH,KAAKE,SAASL,EACnCO,OAAOC,iBAAiB,YAAaL,KAAKM,aAC1CF,OAAOC,iBAAiB,UAAWL,KAAKO,eAIhD3B,EAAA,oBACckB,IACVE,KAAKE,SAASN,GAAIpF,EAAAA,EAAAA,IAASsF,EAAEG,QAASD,KAAKJ,EAAG,MAAO,GACrDI,KAAKE,SAASL,GAAIrF,EAAAA,EAAAA,IAASsF,EAAEK,QAASH,KAAKH,EAAG,MAAO,GAErDG,KAAKQ,WAGT5B,EAAA,kBACY,KACRwB,OAAOK,oBAAoB,YAAaT,KAAKM,aAC7CF,OAAOK,oBAAoB,UAAWT,KAAKO,cAG/C3B,EAAA,gBACUkB,IACN,MAAMY,EAAmB1F,OAAOgF,KAAK7B,UAAUlD,QAAQ,GACnD6E,EAAEa,OAAS,GAAKD,EAAmB,EACnCV,KAAK7B,UAAW3D,EAAAA,EAAAA,IAASwF,KAAK7B,SAAU,GAAK,MAAO,GAC7C2B,EAAEa,QAAU,GAAKD,EAAmB,IAC3CV,KAAK7B,UAAW3D,EAAAA,EAAAA,IAASwF,KAAK7B,SAAU,GAAK,MAAO,GAEpD6B,KAAKE,SAAW,CACZN,EAAG,EACHC,EAAG,IAGXG,KAAKY,eACLZ,KAAKa,qBAGTjC,EAAA,qBACe,KACX,IAAI,MAAEY,EAAK,OAAEC,GAAWO,KAAKc,MAAMC,MACnCvB,EAAQA,EAAMwB,QAAQ,MAAO,IAC7BvB,EAASA,EAAOuB,QAAQ,MAAO,IAC/BhB,KAAKiB,UAAY,CACbrB,GAAIJ,EAAQQ,KAAK7B,SAAW,KAAO,EAAI6B,KAAK7B,SAC5C0B,GAAIJ,EAASO,KAAK7B,SAAW,KAAO,EAAI6B,KAAK7B,aAsCrDS,EAAA,qBACe,KACX,IAAIsC,EAAQC,EAEZ,MAAM,IAAEC,EAAG,KAAEC,EAAI,MAAEC,EAAK,OAAEC,GAAWvB,KAAKc,MAAMU,yBAC5C,UAAEC,EAAS,WAAEC,EAAU,YAAEC,EAAW,aAAEC,GAAiB5B,KAAK6B,iBAqBhE,OAnBIT,EAAMK,GAAaF,EAASK,EAC5BT,EAASnB,KAAKE,SAASL,EAChBuB,GAAOK,GAAaF,EAASK,EACpCT,EAAS5F,KAAKuG,IAAK,GAAE9B,KAAKiB,UAAUpB,IAAKG,KAAKE,SAASL,GAChDuB,EAAMK,GAAaF,GAAUK,EACpCT,EAAS5F,KAAKsB,IAAK,IAAGmD,KAAKiB,UAAUpB,IAAKG,KAAKE,SAASL,GACjDuB,GAAOK,GAAaF,GAAUK,IACrCT,EAAS,GAGTE,EAAOK,GAAcJ,EAAQK,EAC7BT,EAASlB,KAAKE,SAASN,EAChByB,GAAQK,GAAcJ,EAAQK,EACrCT,EAAS3F,KAAKuG,IAAK,GAAE9B,KAAKiB,UAAUrB,IAAKI,KAAKE,SAASN,GAChDyB,EAAOK,GAAcJ,GAASK,EACrCT,EAAS3F,KAAKsB,IAAK,IAAGmD,KAAKiB,UAAUrB,IAAKI,KAAKE,SAASN,GACjDyB,GAAQK,GAAcJ,GAASK,IACtCT,EAAS,GAEN,CAAEA,SAAQC,aAGrBvC,EAAA,+BACyB,KACrB,IAAImD,EAAS,IACTC,GAAYxH,EAAAA,EAAAA,IAAS,IAAKwF,KAAKV,QAAQE,MAAO,MAAO,GACrDyC,GAAUzH,EAAAA,EAAAA,IAASwF,KAAKV,QAAQG,OAAQuC,EAAW,MAAO,GAC9DhC,KAAKkC,OAAOnB,MAAMoB,UAAa,SAAQH,KACvChC,KAAKc,MAAMC,MAAMvB,MAAS,GAAEuC,MAC5B/B,KAAKc,MAAMC,MAAMtB,OAAU,GAAEwC,SAGjCrD,EAAA,wBACkB,KACdoB,KAAKc,MAAMC,MAAMoB,UAAa,SAAQnC,KAAK7B,uBAAuB6B,KAAKE,SAASN,QAAQI,KAAKE,SAASL,UA/JtGG,KAAKkC,OAASE,SAASC,eAAepF,GACtC+C,KAAKV,QAAUA,EACfU,KAAKR,MAAQF,EAAQE,MACrBQ,KAAKP,OAASH,EAAQG,OACtBO,KAAKkC,OAAO1C,MAAQF,EAAQE,MAC5BQ,KAAKkC,OAAOzC,OAASH,EAAQG,OAC7BO,KAAKsC,IAAMtC,KAAKkC,OAAOK,WAAW,MAGlCvC,KAAKc,MAAQsB,SAASC,eAAe/C,EAAQI,WAC7CM,KAAKwC,yBAGLxC,KAAKyC,OAASL,SAASC,eAAe/C,EAAQK,YAG9CK,KAAKkC,OAAO7B,iBAAiB,YAAaL,KAAK0C,aAC/C1C,KAAKkC,OAAO7B,iBAAiB,QAASL,KAAK2C,SAG3C,MAAQvB,IAAAA,EAAKC,KAAAA,EAAMC,MAAAA,EAAOC,OAAAA,GAAWvB,KAAKyC,OAAOjB,wBACjDxB,KAAK6B,iBAAmB,CACpBJ,UAAWL,EACXM,WAAYL,EACZM,YAAaL,EACbM,aAAcL,GAIlBvB,KAAKY,eAwDTgC,OACI,GAAK5C,KAAK6C,IAQN7C,KAAKsC,IAAIQ,UAAU9C,KAAK6C,IAAK,EAAG,EAAG7C,KAAKkC,OAAO1C,MAAOQ,KAAKkC,OAAOzC,YARvD,CACX,IAAIoD,EAAM,IAAIE,MACdF,EAAIG,IAAMhD,KAAKV,QAAQC,OACvBsD,EAAII,OAAS,KACTjD,KAAK6C,IAAMA,EACX7C,KAAKsC,IAAIQ,UAAUD,EAAK,EAAG,EAAG7C,KAAKkC,OAAO1C,MAAOQ,KAAKkC,OAAOzC,UAQzEyD,QACIlD,KAAKkC,OAAO1C,MAAQQ,KAAKR,MAI7BgB,QACIR,KAAKkD,QAGL,MAAM,OAAEhC,EAAM,OAAEC,GAAWnB,KAAKmD,eAChCnD,KAAKE,SAAW,CACZN,EAAGsB,EACHrB,EAAGsB,GAGPnB,KAAKa,kBACLb,KAAK4C,QAgDb,OACIQ,KAAM,uBACNC,WAAY,GACZC,KAAMA,KAAA,CACFhF,SAAU,CACN,CAAE8E,KAAM,YAAaG,IAAK,gIAC1B,CAAEH,KAAM,aAAcG,IAAK,mIAGnCC,SAAU,GACVC,UAEI,MAAMlE,EACF,sQAEJ,IAAIsD,EAAM,CACNtD,SAGAC,MAAO,KACPC,OAAQ,KACRC,UAAW,eACXC,WAAY,iBAEZ+D,EAAQ,IAAItE,EAAM,SAAUyD,GAChCa,EAAMd,QAEVe,QAAS,CACL3F,aAAa4F,EAAMtF,GACfuF,QAAQC,IAAIF,EAAMtF,IAEtBP,cAAc6F,GACVC,QAAQC,IAAIF,IAEhB3F,cAAc8F,EAAKH,EAAMtF,GACrBuF,QAAQC,IAAIC,EAAKH,EAAMtF,IAE3BD,aAAa2F,EAAO1F,GAChB0B,KAAKiE,SAASC,QAAS,sBAAqBF,EAAM5I,mBAAmB4I,EAAM5I,OAASkD,EAASlD,eAEjG8C,aAAa0F,EAAMtF,GACf,OAAO0B,KAAKmE,SAAU,QAAOP,EAAKR,Y,UE3P9C,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://happy-birthday/./src/utils/utils.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue","webpack://happy-birthday/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue?9fd4"],"sourcesContent":["// 计算加减乘除并且获得指定位数的小数（解决浮点数问题，使用时需要将数据转为Number类型）\nexport function countNum(aaa, bbb, op, fixed) {\n    let new_num = String(operation(Number(aaa), Number(bbb), op).toFixed(fixed + 1)),\n        result = Number(new_num.slice(0, new_num.length - 1));\n    return result;\n}\n\nexport function isInteger(obj) {\n    return Math.floor(obj) === obj;\n}\n\nexport function toInteger(floatNum) {\n    var ret = { times: 1, num: 0 };\n    //是整数\n    if (isInteger(floatNum)) {\n        ret.num = floatNum;\n        return ret;\n    }\n    var strfi = floatNum + '';\n    //查找小数点的下标\n    var dotPos = strfi.indexOf('.');\n    //获取小数的位数\n    var len = strfi.substr(dotPos + 1).length;\n    //Math.pow(10,len)指定10的len次幂。\n    var time = Math.pow(10, len);\n    //将浮点数转化为整数\n    var intNum = parseInt(floatNum * time + 0.5, 10);\n    ret.times = time;\n    ret.num = intNum;\n    return ret;\n}\n\nexport function operation(aaa, bbb, op) {\n    var o1 = toInteger(aaa);\n    var o2 = toInteger(bbb);\n    var n1 = o1.num;\n    var n2 = o2.num;\n    var t1 = o1.times;\n    var t2 = o2.times;\n    var max = t1 > t2 ? t1 : t2;\n    var result = null;\n    switch (op) {\n        case 'add':\n            if (t1 === t2) {\n                result = n1 + n2;\n            } else if (t1 > t2) {\n                result = n1 + n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) + n2;\n            }\n            return result / max;\n            break;\n        case 'sub':\n            if (t1 === t2) {\n                result = n1 - n2;\n            } else if (t1 > t2) {\n                result = n1 - n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) - n2;\n            }\n            return result / max;\n            break;\n        case 'mul':\n            result = (n1 * n2) / (t1 * t2);\n            return result;\n            break;\n        case 'div':\n            result = n1 / n2 / (t1 / t2);\n            return result;\n            break;\n    }\n}\n","<template>\n    <div class=\"container\">\n        <div class=\"\">此页面除canvas拖动缩放以外的功能均待实现</div>\n        <div class=\"scale-button\">\n            <button @click=\"zoom('add')\">+</button>\n            <button @click=\"zoom('sub')\">-</button>\n        </div>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :on-success=\"handleSuccess\"\n            :before-remove=\"beforeRemove\"\n            multiple\n            :limit=\"3\"\n            :on-exceed=\"handleExceed\"\n            :file-list=\"fileList\"\n        >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n        </el-upload>\n        <div id=\"img-container\" class=\"img-container\">\n            <div id=\"canvas-shell\" class=\"canvas-shell\">\n                <canvas id=\"canvas\"></canvas>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n// import { toRaw } from 'vue';\nimport { countNum } from '@/utils/utils';\n\nclass Scene {\n    maxOffset = { x: 0, y: 0 }; // 内容的最大偏移量\n    transSet = { x: 0, y: 0 }; // 内容的偏移量\n    x = 0; // 记录鼠标点击Canvas时的横坐标\n    y = 0; // 记录鼠标点击Canvas时的纵坐标\n    img = '';\n    multiple = 1; // 缩放率\n    outDomCoordinate = ''; // 最外层容器相对于浏览器窗口的各项数据\n\n    constructor(\n        id,\n        options = {\n            imgUrl: '',\n            width: 0,\n            height: 0,\n            shellName: '',\n            outDomName: '',\n        }\n    ) {\n        // 设置canvas的相关信息\n        this.canvas = document.getElementById(id);\n        this.options = options;\n        this.width = options.width;\n        this.height = options.height;\n        this.canvas.width = options.width;\n        this.canvas.height = options.height;\n        this.ctx = this.canvas.getContext('2d');\n\n        // 设置包裹canvas的外层div信息\n        this.shell = document.getElementById(options.shellName);\n        this.handleShellWidthHeight();\n\n        // 设置最外层容器\n        this.outDom = document.getElementById(options.outDomName);\n\n        // 绑定各类事件\n        this.canvas.addEventListener('mousedown', this.onMousedown);\n        this.canvas.addEventListener('wheel', this.onWheel);\n\n        // 记录最外层容器相对于浏览器窗口的各项数据\n        const { top, left, right, bottom } = this.outDom.getBoundingClientRect();\n        this.outDomCoordinate = {\n            outDomTop: top,\n            outDomLeft: left,\n            outDomRight: right,\n            outDomBottom: bottom,\n        };\n\n        // 初始化最大偏移量\n        this.handleOffset();\n    }\n\n    // 鼠标按下\n    onMousedown = e => {\n        if (e.button === 0) {\n            this.x = e.clientX - this.transSet.x; // 图片初始位置\n            this.y = e.clientY - this.transSet.y; // 图片初始位置\n            window.addEventListener('mousemove', this.onMousemove);\n            window.addEventListener('mouseup', this.onMouseup);\n        }\n    };\n\n    // 鼠标拖动\n    onMousemove = e => {\n        this.transSet.x = countNum(e.clientX, this.x, 'sub', 2); // x向移动距离\n        this.transSet.y = countNum(e.clientY, this.y, 'sub', 2); // y向移动距离\n\n        this.paint();\n    };\n\n    // 鼠标抬起\n    onMouseup = () => {\n        window.removeEventListener('mousemove', this.onMousemove);\n        window.removeEventListener('mouseup', this.onMouseup);\n    };\n\n    // 滚轮缩放\n    onWheel = e => {\n        const _currentMultiple = Number(this.multiple).toFixed(1);\n        if (e.deltaY < 0 && _currentMultiple < 4) {\n            this.multiple = countNum(this.multiple, 0.1, 'add', 1);\n        } else if (e.deltaY >= 0 && _currentMultiple > 1) {\n            this.multiple = countNum(this.multiple, 0.1, 'sub', 1);\n            // 如果缩小则强制回正偏移，否则会造成拖拽的错误\n            this.transSet = {\n                x: 0,\n                y: 0,\n            };\n        }\n        this.handleOffset();\n        this.handleTransform();\n    };\n\n    // 处理当前缩放率下的最大偏移量\n    handleOffset = () => {\n        let { width, height } = this.shell.style;\n        width = width.replace(/px/g, '');\n        height = height.replace(/px/g, '');\n        this.maxOffset = {\n            x: (width * this.multiple - 324) / 2 / this.multiple,\n            y: (height * this.multiple - 576) / 2 / this.multiple,\n        };\n    };\n\n    // 重绘\n    draw() {\n        if (!this.img) {\n            let img = new Image(); // 创建一个<img>元素\n            img.src = this.options.imgUrl; // 设置图片源地址\n            img.onload = () => {\n                this.img = img;\n                this.ctx.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\n            };\n        } else {\n            this.ctx.drawImage(this.img, 0, 0, this.canvas.width, this.canvas.height);\n        }\n    }\n\n    // 清除\n    clear() {\n        this.canvas.width = this.width;\n    }\n\n    // 画图\n    paint() {\n        this.clear();\n\n        // 计算最终可偏移的偏移量\n        const { transX, transY } = this.handleBorder();\n        this.transSet = {\n            x: transX,\n            y: transY,\n        };\n\n        this.handleTransform();\n        this.draw();\n    }\n\n    // 处理边界，使图片不能拖动出边界\n    handleBorder = () => {\n        let transX, transY;\n        // 拿到内容和最外层容器相对于浏览器窗口的距离\n        const { top, left, right, bottom } = this.shell.getBoundingClientRect(),\n            { outDomTop, outDomLeft, outDomRight, outDomBottom } = this.outDomCoordinate;\n        // 处理y轴偏移量\n        if (top < outDomTop && bottom > outDomBottom) {\n            transY = this.transSet.y;\n        } else if (top >= outDomTop && bottom > outDomBottom) {\n            transY = Math.min(`${this.maxOffset.y}`, this.transSet.y);\n        } else if (top < outDomTop && bottom <= outDomBottom) {\n            transY = Math.max(`-${this.maxOffset.y}`, this.transSet.y);\n        } else if (top == outDomTop && bottom == outDomBottom) {\n            transY = 0;\n        }\n        // 处理x轴偏移量\n        if (left < outDomLeft && right > outDomRight) {\n            transX = this.transSet.x;\n        } else if (left >= outDomLeft && right > outDomRight) {\n            transX = Math.min(`${this.maxOffset.x}`, this.transSet.x);\n        } else if (left < outDomLeft && right <= outDomRight) {\n            transX = Math.max(`-${this.maxOffset.x}`, this.transSet.x);\n        } else if (left == outDomLeft && right == outDomRight) {\n            transX = 0;\n        }\n        return { transX, transY };\n    };\n\n    // 处理canvas外层的宽高以及canvas的缩放率（324，576为最外层容器固定宽高）\n    handleShellWidthHeight = () => {\n        let _width = 324,\n            _multiple = countNum(324, this.options.width, 'div', 6),\n            _height = countNum(this.options.height, _multiple, 'mul', 6);\n        this.canvas.style.transform = `scale(${_multiple})`;\n        this.shell.style.width = `${_width}px`;\n        this.shell.style.height = `${_height}px`;\n    };\n\n    // 处理图像的偏移和缩放\n    handleTransform = () => {\n        this.shell.style.transform = `scale(${this.multiple}) translate(${this.transSet.x}px, ${this.transSet.y}px)`;\n    };\n}\n\nexport default {\n    name: 'convertImgIntoCanvas',\n    components: {},\n    data: () => ({\n        fileList: [\n            { name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n            { name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n        ],\n    }),\n    computed: {},\n    mounted() {\n        // const imgUrl = 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100';\n        const imgUrl =\n            'https://ts1.cn.mm.bing.net/th/id/R-C.d8dfd08893b58d08d74b38ad8870a48d?rik=9KBqff6Rai035Q&riu=http%3a%2f%2fstatic.cntonan.com%2fuploadfile%2f2019%2f0214%2f20190214104244pwm1xxsdikh.jpg&ehk=MOxI2n5nY44gO%2fKsNYWAuEBvcRwSmkRVNb4dTS6Gk%2bY%3d&risl=&pid=ImgRaw&r=0';\n\n        let img = {\n            imgUrl,\n            // width: 766,\n            // height: 766,\n            width: 1125,\n            height: 2436,\n            shellName: 'canvas-shell',\n            outDomName: 'img-container',\n        };\n        let scene = new Scene('canvas', img);\n        scene.draw();\n    },\n    methods: {\n        handleRemove(file, fileList) {\n            console.log(file, fileList);\n        },\n        handlePreview(file) {\n            console.log(file);\n        },\n        handleSuccess(res, file, fileList) {\n            console.log(res, file, fileList);\n        },\n        handleExceed(files, fileList) {\n            this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n        },\n        beforeRemove(file, fileList) {\n            return this.$confirm(`确定移除 ${file.name}？`);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    width: 100vw;\n    height: 100vh;\n\n    .img-container {\n        width: 324px;\n        height: 576px;\n        overflow: hidden;\n        border: 1px solid black;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        box-sizing: border-box;\n\n        .canvas-shell {\n            width: 324px;\n            height: 576px;\n            // transition: transform 0.2s cubic-bezier(0, 0, 0.25, 1) 0s;\n\n            #canvas {\n                transform-origin: left top;\n            }\n        }\n    }\n}\n</style>\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { render } from \"./convertImgIntoCanvas.vue?vue&type=template&id=04b79e67&scoped=true\"\nimport script from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./convertImgIntoCanvas.vue?vue&type=style&index=0&id=04b79e67&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/lishuyu/myProject/personalWebsite/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04b79e67\"]])\n\nexport default __exports__"],"names":["countNum","aaa","bbb","op","fixed","new_num","String","operation","Number","toFixed","result","slice","length","isInteger","obj","Math","floor","toInteger","floatNum","ret","times","num","strfi","dotPos","indexOf","len","substr","time","pow","intNum","parseInt","o1","o2","n1","n2","t1","t2","max","class","_createElementVNode","slot","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","_ctx","zoom","_createVNode","_component_el_upload","action","$options","handlePreview","handleRemove","handleSuccess","beforeRemove","multiple","limit","handleExceed","fileList","_component_el_button","size","type","_hoisted_5","_hoisted_6","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","Scene","constructor","options","imgUrl","width","height","shellName","outDomName","x","y","e","button","this","clientX","transSet","clientY","window","addEventListener","onMousemove","onMouseup","paint","removeEventListener","_currentMultiple","deltaY","handleOffset","handleTransform","shell","style","replace","maxOffset","transX","transY","top","left","right","bottom","getBoundingClientRect","outDomTop","outDomLeft","outDomRight","outDomBottom","outDomCoordinate","min","_width","_multiple","_height","canvas","transform","document","getElementById","ctx","getContext","handleShellWidthHeight","outDom","onMousedown","onWheel","draw","img","drawImage","Image","src","onload","clear","handleBorder","name","components","data","url","computed","mounted","scene","methods","file","console","log","res","files","$message","warning","$confirm","__exports__","render"],"sourceRoot":""}