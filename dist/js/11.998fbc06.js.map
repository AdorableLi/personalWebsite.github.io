{"version":3,"file":"js/11.998fbc06.js","mappings":"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","sources":["webpack://happy-birthday/./src/utils/utils.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue","webpack://happy-birthday/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue?9fd4"],"sourcesContent":["// 计算加减乘除并且获得指定位数的小数（解决浮点数问题，使用时需要将数据转为Number类型）\nexport function countNum(aaa, bbb, op, fixed) {\n    let new_num = String(operation(Number(aaa), Number(bbb), op).toFixed(fixed + 1)),\n        result = Number(new_num.slice(0, new_num.length - 1));\n    return result;\n}\n\nexport function isInteger(obj) {\n    return Math.floor(obj) === obj;\n}\n\nexport function toInteger(floatNum) {\n    var ret = { times: 1, num: 0 };\n    //是整数\n    if (isInteger(floatNum)) {\n        ret.num = floatNum;\n        return ret;\n    }\n    var strfi = floatNum + '';\n    //查找小数点的下标\n    var dotPos = strfi.indexOf('.');\n    //获取小数的位数\n    var len = strfi.substr(dotPos + 1).length;\n    //Math.pow(10,len)指定10的len次幂。\n    var time = Math.pow(10, len);\n    //将浮点数转化为整数\n    var intNum = parseInt(floatNum * time + 0.5, 10);\n    ret.times = time;\n    ret.num = intNum;\n    return ret;\n}\n\nexport function operation(aaa, bbb, op) {\n    var o1 = toInteger(aaa);\n    var o2 = toInteger(bbb);\n    var n1 = o1.num;\n    var n2 = o2.num;\n    var t1 = o1.times;\n    var t2 = o2.times;\n    var max = t1 > t2 ? t1 : t2;\n    var result = null;\n    switch (op) {\n        case 'add':\n            if (t1 === t2) {\n                result = n1 + n2;\n            } else if (t1 > t2) {\n                result = n1 + n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) + n2;\n            }\n            return result / max;\n            break;\n        case 'sub':\n            if (t1 === t2) {\n                result = n1 - n2;\n            } else if (t1 > t2) {\n                result = n1 - n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) - n2;\n            }\n            return result / max;\n            break;\n        case 'mul':\n            result = (n1 * n2) / (t1 * t2);\n            return result;\n            break;\n        case 'div':\n            result = n1 / n2 / (t1 / t2);\n            return result;\n            break;\n    }\n}\n","<template>\n    <div class=\"container\">\n        <div class=\"\">此页面除canvas拖动缩放以外的功能均待实现</div>\n        <div class=\"scale-button\">\n            <button @click=\"zoom('add')\">+</button>\n            <button @click=\"zoom('sub')\">-</button>\n        </div>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :on-success=\"handleSuccess\"\n            :before-remove=\"beforeRemove\"\n            multiple\n            :limit=\"3\"\n            :on-exceed=\"handleExceed\"\n            :file-list=\"fileList\"\n        >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n        </el-upload>\n        <div id=\"img-container\" class=\"img-container\">\n            <div id=\"canvas-shell\" class=\"canvas-shell\">\n                <!-- <canvas id=\"canvas\" :style=\"`transform: scale(${multiple})`\"></canvas> -->\n                <canvas id=\"canvas\"></canvas>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n// import { toRaw } from 'vue';\nimport { countNum } from '@/utils/utils';\n\nclass Scene {\n    moveSet = { x: 0, y: 0 }; // 相对于容器的偏移量\n    transSet = { x: 0, y: 0 }; // 容器的缩放量\n    x = 0; // 记录鼠标点击Canvas时的横坐标\n    y = 0; // 记录鼠标点击Canvas时的纵坐标\n    img = '';\n    multiple = 1; // 缩放率\n\n    constructor(\n        id,\n        options = {\n            imgUrl: '',\n            width: 0,\n            height: 0,\n            shellName: '',\n            outDomName: '',\n        }\n    ) {\n        // 设置canvas的相关信息\n        this.canvas = document.getElementById(id);\n        this.options = options;\n        this.width = options.width;\n        this.height = options.height;\n        this.canvas.width = options.width;\n        this.canvas.height = options.height;\n        this.ctx = this.canvas.getContext('2d');\n\n        // 设置包裹canvas的外层div信息\n        this.shell = document.getElementById(options.shellName);\n        this.setShellData(options.width, options.height);\n\n        // 设置最外层容器\n        this.outDom = document.getElementById(options.outDomName);\n\n        // 绑定各类事件\n        this.onMousedown = this.onMousedown.bind(this);\n        this.onMousemove = this.onMousemove.bind(this);\n        this.onMouseup = this.onMouseup.bind(this);\n        this.onWheel = this.onWheel.bind(this);\n        this.canvas.addEventListener('mousedown', this.onMousedown);\n        this.canvas.addEventListener('wheel', this.onWheel);\n    }\n\n    // 鼠标按下\n    onMousedown(e) {\n        if (e.button === 0) {\n            this.x = e.clientX - this.transSet.x; // 图片初始位置\n            this.y = e.clientY - this.transSet.y; // 图片初始位置\n\n            window.addEventListener('mousemove', this.onMousemove);\n            window.addEventListener('mouseup', this.onMouseup);\n        }\n    }\n\n    // 鼠标拖动\n    onMousemove(e) {\n        this.moveSet.x = countNum(e.clientX, this.x, 'sub', 2); // x向移动距离\n        this.moveSet.y = countNum(e.clientY, this.y, 'sub', 2); // y向移动距离\n\n        this.paint();\n    }\n\n    // 鼠标抬起\n    onMouseup() {\n        window.removeEventListener('mousemove', this.onMousemove);\n        window.removeEventListener('mouseup', this.onMouseup);\n    }\n\n    // 滚轮缩放\n    onWheel(e) {\n        if (e.deltaY < 0) {\n            this.multiple = countNum(this.multiple, 0.1, 'add', 1);\n        } else if (e.deltaY >= 0 && Number(this.multiple).toFixed(1) > 0.1) {\n            this.multiple = countNum(this.multiple, 0.1, 'sub', 1);\n        }\n        this.canvas.style.transform = `scale(${this.multiple})`;\n    }\n\n    // 设置外层div的宽高\n    setShellData(width, height) {\n        this.shell.style.width = `${width}px`;\n        this.shell.style.height = `${height}px`;\n    }\n\n    // 重绘\n    draw() {\n        if (!this.img) {\n            let img = new Image(); // 创建一个<img>元素\n            img.src = this.options.imgUrl; // 设置图片源地址\n            img.onload = () => {\n                this.img = img;\n                this.ctx.drawImage(img, 0, 0);\n            };\n        } else {\n            this.ctx.drawImage(this.img, 0, 0);\n        }\n    }\n\n    // 清除\n    clear() {\n        this.canvas.width = this.width;\n    }\n\n    // 画图\n    paint() {\n        this.clear();\n        const { transX, transY } = this.handleBorder(this.canvas, this.outDom, this.moveSet.x, this.moveSet.y, this.multiple);\n        // 缓存偏移量，方便下次移动时计算\n        this.transSet.x = transX;\n        this.transSet.y = transY;\n        this.shell.style.transform = `translate(${transX}px, ${transY}px)`;\n        this.draw();\n    }\n\n    // 处理边界，使图片不能拖动出边界\n    handleBorder = (innerDOM, outerDOM, moveX, moveY, multiple) => {\n        let { clientWidth: innerWidth, clientHeight: innerHeight } = innerDOM,\n            { clientWidth: outerWidth, clientHeight: outerHeight } = outerDOM,\n            transX,\n            transY;\n        // 图片大于容器时，拖动的边不能超过容器的边\n        if (innerWidth * multiple > outerWidth || innerHeight * multiple > outerHeight) {\n            if (innerWidth * multiple > outerWidth && innerWidth * multiple > outerHeight) {\n                transX = Math.min(Math.max(moveX, outerWidth - (innerWidth * (multiple + 1)) / 2), (innerWidth * (multiple - 1)) / 2);\n                transY = Math.min(Math.max(moveY, outerHeight - (innerHeight * (multiple + 1)) / 2), (innerHeight * (multiple - 1)) / 2);\n            } else if (innerWidth * multiple > outerWidth && !(innerWidth * multiple > outerHeight)) {\n                transX = Math.min(Math.max(moveX, outerWidth - (innerWidth * (multiple + 1)) / 2), (innerWidth * (multiple - 1)) / 2);\n                transY = Math.max(Math.min(moveY, outerHeight - (innerHeight * (multiple + 1)) / 2), (innerHeight * (multiple - 1)) / 2);\n            } else if (!(innerWidth * multiple > outerWidth) && innerWidth * multiple > outerHeight) {\n                transX = Math.max(Math.min(moveX, outerWidth - (innerWidth * (multiple + 1)) / 2), (innerWidth * (multiple - 1)) / 2);\n                transY = Math.min(Math.max(moveY, outerHeight - (innerHeight * (multiple + 1)) / 2), (innerHeight * (multiple - 1)) / 2);\n            }\n        } else {\n            // 图片小于容器时，图片不能拖出边框\n            transX = Math.max(Math.min(moveX, outerWidth - (innerWidth * (multiple + 1)) / 2), (innerWidth * (multiple - 1)) / 2);\n            transY = Math.max(Math.min(moveY, outerHeight - (innerHeight * (multiple + 1)) / 2), (innerHeight * (multiple - 1)) / 2);\n        }\n        return { transX, transY };\n    };\n}\n\nexport default {\n    name: 'convertImgIntoCanvas',\n    components: {},\n    data: () => ({\n        fileList: [\n            { name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n            { name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n        ],\n    }),\n    computed: {},\n    mounted() {\n        const imgUrl = 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100';\n\n        let img = {\n            imgUrl,\n            width: 466,\n            height: 466,\n            shellName: 'canvas-shell',\n            outDomName: 'img-container',\n        };\n        let scene = new Scene('canvas', img);\n        scene.draw();\n    },\n    methods: {\n        handleRemove(file, fileList) {\n            console.log(file, fileList);\n        },\n        handlePreview(file) {\n            console.log(file);\n        },\n        handleSuccess(res, file, fileList) {\n            console.log(res, file, fileList);\n        },\n        handleExceed(files, fileList) {\n            this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n        },\n        beforeRemove(file, fileList) {\n            return this.$confirm(`确定移除 ${file.name}？`);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    width: 100vw;\n    height: 100vh;\n\n    .img-container {\n        width: 300px;\n        height: 500px;\n        overflow: hidden;\n        border: 1px solid black;\n\n        .canvas-shell {\n            // width: 300px;\n            // height: 700px;\n            // overflow: hidden;\n\n            #canvas {\n                // transition: transform 0.3s cubic-bezier(0, 0, 0.25, 1) 0s;\n                transition: all 0.3s cubic-bezier(0, 0, 0.25, 1) 0s;\n            }\n        }\n    }\n}\n</style>\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { render } from \"./convertImgIntoCanvas.vue?vue&type=template&id=2286ab50&scoped=true\"\nimport script from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./convertImgIntoCanvas.vue?vue&type=style&index=0&id=2286ab50&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/lishuyu/myProject/personalWebsite/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2286ab50\"]])\n\nexport default __exports__"],"names":["countNum","aaa","bbb","op","fixed","new_num","String","operation","Number","toFixed","result","slice","length","isInteger","obj","Math","floor","toInteger","floatNum","ret","times","num","strfi","dotPos","indexOf","len","substr","time","pow","intNum","parseInt","o1","o2","n1","n2","t1","t2","max","class","_createElementVNode","slot","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","_ctx","zoom","_createVNode","_component_el_upload","action","$options","handlePreview","handleRemove","handleSuccess","beforeRemove","multiple","limit","handleExceed","fileList","_component_el_button","size","type","_hoisted_5","_hoisted_6","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","Scene","constructor","options","imgUrl","width","height","shellName","outDomName","x","y","innerDOM","outerDOM","moveX","moveY","transX","transY","clientWidth","innerWidth","clientHeight","innerHeight","outerWidth","outerHeight","min","this","canvas","document","getElementById","ctx","getContext","shell","setShellData","outDom","onMousedown","bind","onMousemove","onMouseup","onWheel","addEventListener","e","button","clientX","transSet","clientY","window","moveSet","paint","removeEventListener","deltaY","style","transform","draw","img","drawImage","Image","src","onload","clear","handleBorder","name","components","data","url","computed","mounted","scene","methods","file","console","log","res","files","$message","warning","$confirm","__exports__","render"],"sourceRoot":""}