{"version":3,"file":"js/42.6e758885.js","mappings":"0HACO,SAASA,EAASC,EAAKC,EAAKC,EAAIC,GACnC,IAAIC,EAAUC,OAAOC,EAAUC,OAAOP,GAAMO,OAAON,GAAMC,GAAIM,QAAQL,EAAQ,IACzEM,EAASF,OAAOH,EAAQM,MAAM,EAAGN,EAAQO,OAAS,IACtD,OAAOF,EAGJ,SAASG,EAAUC,GACtB,OAAOC,KAAKC,MAAMF,KAASA,EAGxB,SAASG,EAAUC,GACtB,IAAIC,EAAM,CAAEC,MAAO,EAAGC,IAAK,GAE3B,GAAIR,EAAUK,GAEV,OADAC,EAAIE,IAAMH,EACHC,EAEX,IAAIG,EAAQJ,EAAW,GAEnBK,EAASD,EAAME,QAAQ,KAEvBC,EAAMH,EAAMI,OAAOH,EAAS,GAAGX,OAE/Be,EAAOZ,KAAKa,IAAI,GAAIH,GAEpBI,EAASC,SAASZ,EAAWS,EAAO,GAAK,IAG7C,OAFAR,EAAIC,MAAQO,EACZR,EAAIE,IAAMQ,EACHV,EAGJ,SAASZ,EAAUN,EAAKC,EAAKC,GAChC,IAAI4B,EAAKd,EAAUhB,GACf+B,EAAKf,EAAUf,GACf+B,EAAKF,EAAGV,IACRa,EAAKF,EAAGX,IACRc,EAAKJ,EAAGX,MACRgB,EAAKJ,EAAGZ,MACRiB,EAAMF,EAAKC,EAAKD,EAAKC,EACrB1B,EAAS,KACb,OAAQP,GACJ,IAAK,MAQD,OANIO,EADAyB,IAAOC,EACEH,EAAKC,EACPC,EAAKC,EACHH,EAAKC,GAAMC,EAAKC,GAEhBH,GAAMG,EAAKD,GAAMD,EAEvBxB,EAAS2B,EAEpB,IAAK,MAQD,OANI3B,EADAyB,IAAOC,EACEH,EAAKC,EACPC,EAAKC,EACHH,EAAKC,GAAMC,EAAKC,GAEhBH,GAAMG,EAAKD,GAAMD,EAEvBxB,EAAS2B,EAEpB,IAAK,MAED,OADA3B,EAAUuB,EAAKC,GAAOC,EAAKC,GACpB1B,EAEX,IAAK,MAED,OADAA,EAASuB,EAAKC,GAAMC,EAAKC,GAClB1B,G,iLCnEV4B,MAAM,a,UACPC,EAAAA,EAAAA,GAA2C,OAAtCD,MAAM,IAAG,2BAAuB,K,GAChCA,MAAM,gB,WAgBgC,Q,UACvCC,EAAAA,EAAAA,GAAoE,OAA/DC,KAAK,MAAMF,MAAM,kBAAiB,2BAAuB,K,UAElEC,EAAAA,EAAAA,GAIM,OAJDE,GAAG,gBAAgBH,MAAM,iB,EAC1BC,EAAAA,EAAAA,GAEM,OAFDE,GAAG,eAAeH,MAAM,gB,EACzBC,EAAAA,EAAAA,GAA6B,UAArBE,GAAG,eAAQ,K,gGAvB/BC,EAAAA,EAAAA,IA0BM,MA1BNC,EA0BM,CAzBFC,GACAL,EAAAA,EAAAA,GAGM,MAHNM,EAGM,EAFFN,EAAAA,EAAAA,GAAoC,UAA3BO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,MAAM,KAAI,MAC1BX,EAAAA,EAAAA,GAAmC,UAA1BO,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,KAAK,KAAI,QAE7BC,EAAAA,EAAAA,IAcYC,EAAA,CAbRd,MAAM,cACNe,OAAO,8CACN,aAAYJ,EAAAK,cACZ,YAAWL,EAAAM,aACX,aAAYN,EAAAO,cACZ,gBAAeP,EAAAQ,aAChBC,SAAA,GACCC,MAAO,EACP,YAAWV,EAAAW,aACX,YAAWC,EAAAC,U,mBAEZ,IAAuD,EAAvDX,EAAAA,EAAAA,IAAuDY,EAAA,CAA5CC,KAAK,QAAQC,KAAK,W,mBAAU,IAAI,M,MAC3CC,K,wFAEJC,ICtBO,SAASC,EAAgBtD,EAAKuD,EAAKC,GAYhD,OAXID,KAAOvD,EACTyD,OAAOC,eAAe1D,EAAKuD,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ7D,EAAIuD,GAAOC,EAGNxD,E,cDsBT,MAAM8D,EAQFC,YACIC,EAAU,CACNC,OAAQ,EACRC,UAAW,GACXC,WAAY,KAElBb,EAAA,iBAbU,CAAEc,EAAG,EAAGC,EAAG,IAAKf,EAAA,gBACjB,CAAEc,EAAG,EAAGC,EAAG,IAAKf,EAAA,SACvB,GAAGA,EAAA,SACH,GAAGA,EAAA,gBACI,GAAGA,EAAA,wBACK,IAkCnBA,EAAA,oBACcgB,IACO,IAAbA,EAAEC,SACFC,KAAKJ,EAAIE,EAAEG,QAAUD,KAAKE,SAASN,EACnCI,KAAKH,EAAIC,EAAEK,QAAUH,KAAKE,SAASL,EACnCO,OAAOC,iBAAiB,YAAaL,KAAKM,aAC1CF,OAAOC,iBAAiB,UAAWL,KAAKO,eAIhDzB,EAAA,oBACcgB,IACVE,KAAKE,SAASN,GAAIlF,EAAAA,EAAAA,IAASoF,EAAEG,QAASD,KAAKJ,EAAG,MAAO,GACrDI,KAAKE,SAASL,GAAInF,EAAAA,EAAAA,IAASoF,EAAEK,QAASH,KAAKH,EAAG,MAAO,GAErDG,KAAKQ,WAGT1B,EAAA,kBACY,KACRsB,OAAOK,oBAAoB,YAAaT,KAAKM,aAC7CF,OAAOK,oBAAoB,UAAWT,KAAKO,cAG/CzB,EAAA,gBACUgB,IACN,MAAMY,EAAmBxF,OAAO8E,KAAK5B,UAAUjD,QAAQ,GACnD2E,EAAEa,OAAS,GAAKD,EAAmB,EACnCV,KAAK5B,UAAW1D,EAAAA,EAAAA,IAASsF,KAAK5B,SAAU,GAAK,MAAO,GAC7C0B,EAAEa,QAAU,GAAKD,EAAmB,IAC3CV,KAAK5B,UAAW1D,EAAAA,EAAAA,IAASsF,KAAK5B,SAAU,GAAK,MAAO,GAEpD4B,KAAKE,SAAW,CACZN,EAAG,EACHC,EAAG,IAGXG,KAAKY,eACLZ,KAAKa,qBAGT/B,EAAA,qBACe,KACX,IAAI,MAAEgC,EAAK,OAAErB,GAAWO,KAAKe,MAAMC,MACnCF,EAAQA,EAAMG,QAAQ,MAAO,IAC7BxB,EAASA,EAAOwB,QAAQ,MAAO,IAC/BjB,KAAKkB,UAAY,CACbtB,GAAIkB,EAAQd,KAAK5B,SAAW,KAAO,EAAI4B,KAAK5B,SAC5CyB,GAAIJ,EAASO,KAAK5B,SAAW,KAAO,EAAI4B,KAAK5B,aAgBrDU,EAAA,qBACe,KACX,IAAIqC,EAAQC,EAEZ,MAAM,IAAEC,EAAG,KAAEC,EAAI,MAAEC,EAAK,OAAEC,GAAWxB,KAAKe,MAAMU,yBAC5C,UAAEC,EAAS,WAAEC,EAAU,YAAEC,EAAW,aAAEC,GAAiB7B,KAAK8B,iBAqBhE,OAnBIT,EAAMK,GAAaF,EAASK,EAC5BT,EAASpB,KAAKE,SAASL,EAChBwB,GAAOK,GAAaF,EAASK,EACpCT,EAAS3F,KAAKsG,IAAK,GAAE/B,KAAKkB,UAAUrB,IAAKG,KAAKE,SAASL,GAChDwB,EAAMK,GAAaF,GAAUK,EACpCT,EAAS3F,KAAKsB,IAAK,IAAGiD,KAAKkB,UAAUrB,IAAKG,KAAKE,SAASL,GACjDwB,GAAOK,GAAaF,GAAUK,IACrCT,EAAS,GAGTE,EAAOK,GAAcJ,EAAQK,EAC7BT,EAASnB,KAAKE,SAASN,EAChB0B,GAAQK,GAAcJ,EAAQK,EACrCT,EAAS1F,KAAKsG,IAAK,GAAE/B,KAAKkB,UAAUtB,IAAKI,KAAKE,SAASN,GAChD0B,EAAOK,GAAcJ,GAASK,EACrCT,EAAS1F,KAAKsB,IAAK,IAAGiD,KAAKkB,UAAUtB,IAAKI,KAAKE,SAASN,GACjD0B,GAAQK,GAAcJ,GAASK,IACtCT,EAAS,GAEN,CAAEA,SAAQC,aAGrBtC,EAAA,wBACkB,KACdkB,KAAKe,MAAMC,MAAMgB,UAAa,SAAQhC,KAAK5B,uBAAuB4B,KAAKE,SAASN,QAAQI,KAAKE,SAASL,UAvHtGG,KAAKe,MAAQkB,SAASC,eAAe1C,EAAQE,WAC7CM,KAAKe,MAAMC,MAAMF,MAAS,QAC1Bd,KAAKe,MAAMC,MAAMvB,OAAU,GAAED,EAAQC,WAGrCO,KAAKmC,OAASF,SAASC,eAAe1C,EAAQG,YAG9CK,KAAKe,MAAMV,iBAAiB,YAAaL,KAAKoC,aAC9CpC,KAAKe,MAAMV,iBAAiB,QAASL,KAAKqC,SAG1C,MAAQhB,IAAAA,EAAKC,KAAAA,EAAMC,MAAAA,EAAOC,OAAAA,GAAWxB,KAAKmC,OAAOV,wBACjDzB,KAAK8B,iBAAmB,CACpBJ,UAAWL,EACXM,WAAYL,EACZM,YAAaL,EACbM,aAAcL,GAIlBxB,KAAKY,eAwDTJ,QAEI,MAAM,OAAEW,EAAM,OAAEC,GAAWpB,KAAKsC,eAChCtC,KAAKE,SAAW,CACZN,EAAGuB,EACHtB,EAAGuB,GAGPpB,KAAKa,mBAsCb,IAAI0B,EAEJ,OACIC,KAAM,uBACNC,WAAY,GACZC,KAAMA,KAAA,CACFlE,SAAU,CACN,CAAEgE,KAAM,YAAaG,IAAK,gIAC1B,CAAEH,KAAM,aAAcG,IAAK,mIAGnCC,SAAU,GACVC,UACI,MAAMC,EACF,sQACEC,EAAW,KACbC,EAAY,MAEV,MAAElC,EAAK,OAAErB,EAAM,SAAErB,GAAa4B,KAAKiD,uBAAuBF,EAAUC,GAC1E,IAAIE,EAAM,CACNzD,SACAC,UAAW,eACXC,WAAY,iBAEhB4C,EAAkB,IAAIjD,EAAM4D,GAE5B,IAAIC,EAASlB,SAASC,eAAe,UACjCkB,EAAMD,EAAOE,WAAW,MAExBC,EAAQ,IAAIC,MAChBD,EAAME,IAAMV,EACZQ,EAAMG,OAAS,KACXL,EAAIM,UAAUJ,EAAO,EAAG,EAAGP,EAAUC,IAGzCG,EAAOrC,MAAQiC,EACfI,EAAO1D,OAASuD,EAChBG,EAAOnC,MAAMgB,UAAa,SAAQ5D,MAEtCuF,QAAS,CACL1F,aAAa2F,EAAMpF,GACfqF,QAAQC,IAAIF,EAAMpF,IAEtBR,cAAc4F,GACVC,QAAQC,IAAIF,IAEhB1F,cAAc6F,EAAKH,EAAMpF,GACrBqF,QAAQC,IAAIC,EAAKH,EAAMpF,IAE3BF,aAAa0F,EAAOxF,GAChBwB,KAAKiE,SAASC,QAAS,sBAAqBF,EAAM1I,mBAAmB0I,EAAM1I,OAASkD,EAASlD,eAEjG6C,aAAayF,EAAMpF,GACf,OAAOwB,KAAKmE,SAAU,QAAOP,EAAKpB,UAItCS,uBAAuBmB,EAAUC,GAC7B,IAAIvD,EAAQ,IACR1C,GAAW1D,EAAAA,EAAAA,IAAS,IAAK0J,EAAU,MAAO,GAC1C3E,GAAS/E,EAAAA,EAAAA,IAAS2J,EAAWjG,EAAU,MAAO,GAClD,MAAO,CAAE0C,QAAOrB,SAAQrB,aAE5BR,KAAKe,GACD,IAAI2F,EAAO,CACP3D,OAAQhC,GAEZ4D,EAAgBF,QAAQiC,M,UEzOpC,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://happy-birthday/./src/utils/utils.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue","webpack://happy-birthday/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://happy-birthday/./src/views/convertImgIntoCanvas.vue?9fd4"],"sourcesContent":["// 计算加减乘除并且获得指定位数的小数（解决浮点数问题，使用时需要将数据转为Number类型）\nexport function countNum(aaa, bbb, op, fixed) {\n    let new_num = String(operation(Number(aaa), Number(bbb), op).toFixed(fixed + 1)),\n        result = Number(new_num.slice(0, new_num.length - 1));\n    return result;\n}\n\nexport function isInteger(obj) {\n    return Math.floor(obj) === obj;\n}\n\nexport function toInteger(floatNum) {\n    var ret = { times: 1, num: 0 };\n    //是整数\n    if (isInteger(floatNum)) {\n        ret.num = floatNum;\n        return ret;\n    }\n    var strfi = floatNum + '';\n    //查找小数点的下标\n    var dotPos = strfi.indexOf('.');\n    //获取小数的位数\n    var len = strfi.substr(dotPos + 1).length;\n    //Math.pow(10,len)指定10的len次幂。\n    var time = Math.pow(10, len);\n    //将浮点数转化为整数\n    var intNum = parseInt(floatNum * time + 0.5, 10);\n    ret.times = time;\n    ret.num = intNum;\n    return ret;\n}\n\nexport function operation(aaa, bbb, op) {\n    var o1 = toInteger(aaa);\n    var o2 = toInteger(bbb);\n    var n1 = o1.num;\n    var n2 = o2.num;\n    var t1 = o1.times;\n    var t2 = o2.times;\n    var max = t1 > t2 ? t1 : t2;\n    var result = null;\n    switch (op) {\n        case 'add':\n            if (t1 === t2) {\n                result = n1 + n2;\n            } else if (t1 > t2) {\n                result = n1 + n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) + n2;\n            }\n            return result / max;\n            break;\n        case 'sub':\n            if (t1 === t2) {\n                result = n1 - n2;\n            } else if (t1 > t2) {\n                result = n1 - n2 * (t1 / t2);\n            } else {\n                result = n1 * (t2 / t1) - n2;\n            }\n            return result / max;\n            break;\n        case 'mul':\n            result = (n1 * n2) / (t1 * t2);\n            return result;\n            break;\n        case 'div':\n            result = n1 / n2 / (t1 / t2);\n            return result;\n            break;\n    }\n}\n","<template>\n    <div class=\"container\">\n        <div class=\"\">此页面除canvas拖动缩放以外的功能均待实现</div>\n        <div class=\"scale-button\">\n            <button @click=\"zoom(-1)\">+</button>\n            <button @click=\"zoom(1)\">-</button>\n        </div>\n        <el-upload\n            class=\"upload-demo\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :on-success=\"handleSuccess\"\n            :before-remove=\"beforeRemove\"\n            multiple\n            :limit=\"3\"\n            :on-exceed=\"handleExceed\"\n            :file-list=\"fileList\"\n        >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n        </el-upload>\n        <div id=\"img-container\" class=\"img-container\">\n            <div id=\"canvas-shell\" class=\"canvas-shell\">\n                <canvas id=\"canvas\"></canvas>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n// import { toRaw } from 'vue';\nimport { countNum } from '@/utils/utils';\n\nclass Scene {\n    maxOffset = { x: 0, y: 0 }; // 内容的最大偏移量\n    transSet = { x: 0, y: 0 }; // 内容的偏移量\n    x = 0; // 记录鼠标点击Canvas时的横坐标\n    y = 0; // 记录鼠标点击Canvas时的纵坐标\n    multiple = 1; // 缩放率\n    outDomCoordinate = ''; // 最外层容器相对于浏览器窗口的各项数据\n\n    constructor(\n        options = {\n            height: 0,\n            shellName: '',\n            outDomName: '',\n        }\n    ) {\n        // 设置包裹canvas的外层div信息\n        this.shell = document.getElementById(options.shellName);\n        this.shell.style.width = `324px`;\n        this.shell.style.height = `${options.height}px`;\n\n        // 设置最外层容器\n        this.outDom = document.getElementById(options.outDomName);\n\n        // 绑定各类事件\n        this.shell.addEventListener('mousedown', this.onMousedown);\n        this.shell.addEventListener('wheel', this.onWheel);\n\n        // 记录最外层容器相对于浏览器窗口的各项数据\n        const { top, left, right, bottom } = this.outDom.getBoundingClientRect();\n        this.outDomCoordinate = {\n            outDomTop: top,\n            outDomLeft: left,\n            outDomRight: right,\n            outDomBottom: bottom,\n        };\n\n        // 初始化最大偏移量\n        this.handleOffset();\n    }\n\n    // 鼠标按下\n    onMousedown = e => {\n        if (e.button === 0) {\n            this.x = e.clientX - this.transSet.x; // 图片初始位置\n            this.y = e.clientY - this.transSet.y; // 图片初始位置\n            window.addEventListener('mousemove', this.onMousemove);\n            window.addEventListener('mouseup', this.onMouseup);\n        }\n    };\n\n    // 鼠标拖动\n    onMousemove = e => {\n        this.transSet.x = countNum(e.clientX, this.x, 'sub', 2); // x向移动距离\n        this.transSet.y = countNum(e.clientY, this.y, 'sub', 2); // y向移动距离\n\n        this.paint();\n    };\n\n    // 鼠标抬起\n    onMouseup = () => {\n        window.removeEventListener('mousemove', this.onMousemove);\n        window.removeEventListener('mouseup', this.onMouseup);\n    };\n\n    // 滚轮缩放\n    onWheel = e => {\n        const _currentMultiple = Number(this.multiple).toFixed(1);\n        if (e.deltaY < 0 && _currentMultiple < 4) {\n            this.multiple = countNum(this.multiple, 0.1, 'add', 1);\n        } else if (e.deltaY >= 0 && _currentMultiple > 1) {\n            this.multiple = countNum(this.multiple, 0.1, 'sub', 1);\n            // 如果缩小则强制回正偏移，否则会造成拖拽的错误\n            this.transSet = {\n                x: 0,\n                y: 0,\n            };\n        }\n        this.handleOffset();\n        this.handleTransform();\n    };\n\n    // 处理当前缩放率下的最大偏移量\n    handleOffset = () => {\n        let { width, height } = this.shell.style;\n        width = width.replace(/px/g, '');\n        height = height.replace(/px/g, '');\n        this.maxOffset = {\n            x: (width * this.multiple - 324) / 2 / this.multiple,\n            y: (height * this.multiple - 576) / 2 / this.multiple,\n        };\n    };\n\n    // 画图\n    paint() {\n        // 计算最终可偏移的偏移量\n        const { transX, transY } = this.handleBorder();\n        this.transSet = {\n            x: transX,\n            y: transY,\n        };\n\n        this.handleTransform();\n    }\n\n    // 处理边界，使图片不能拖动出边界\n    handleBorder = () => {\n        let transX, transY;\n        // 拿到内容和最外层容器相对于浏览器窗口的距离\n        const { top, left, right, bottom } = this.shell.getBoundingClientRect(),\n            { outDomTop, outDomLeft, outDomRight, outDomBottom } = this.outDomCoordinate;\n        // 处理y轴偏移量\n        if (top < outDomTop && bottom > outDomBottom) {\n            transY = this.transSet.y;\n        } else if (top >= outDomTop && bottom > outDomBottom) {\n            transY = Math.min(`${this.maxOffset.y}`, this.transSet.y);\n        } else if (top < outDomTop && bottom <= outDomBottom) {\n            transY = Math.max(`-${this.maxOffset.y}`, this.transSet.y);\n        } else if (top == outDomTop && bottom == outDomBottom) {\n            transY = 0;\n        }\n        // 处理x轴偏移量\n        if (left < outDomLeft && right > outDomRight) {\n            transX = this.transSet.x;\n        } else if (left >= outDomLeft && right > outDomRight) {\n            transX = Math.min(`${this.maxOffset.x}`, this.transSet.x);\n        } else if (left < outDomLeft && right <= outDomRight) {\n            transX = Math.max(`-${this.maxOffset.x}`, this.transSet.x);\n        } else if (left == outDomLeft && right == outDomRight) {\n            transX = 0;\n        }\n        return { transX, transY };\n    };\n\n    // 处理图像的偏移和缩放\n    handleTransform = () => {\n        this.shell.style.transform = `scale(${this.multiple}) translate(${this.transSet.x}px, ${this.transSet.y}px)`;\n    };\n}\n\nlet canvasContainer;\n\nexport default {\n    name: 'convertImgIntoCanvas',\n    components: {},\n    data: () => ({\n        fileList: [\n            { name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n            { name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' },\n        ],\n    }),\n    computed: {},\n    mounted() {\n        const imgUrl =\n            'https://ts1.cn.mm.bing.net/th/id/R-C.d8dfd08893b58d08d74b38ad8870a48d?rik=9KBqff6Rai035Q&riu=http%3a%2f%2fstatic.cntonan.com%2fuploadfile%2f2019%2f0214%2f20190214104244pwm1xxsdikh.jpg&ehk=MOxI2n5nY44gO%2fKsNYWAuEBvcRwSmkRVNb4dTS6Gk%2bY%3d&risl=&pid=ImgRaw&r=0';\n        const imgWidth = 1125, // 图片原始宽\n            imgHeight = 2436; // 图片原始高\n\n        const { width, height, multiple } = this.handleShellWidthHeight(imgWidth, imgHeight);\n        let img = {\n            height,\n            shellName: 'canvas-shell',\n            outDomName: 'img-container',\n        };\n        canvasContainer = new Scene(img);\n\n        let canvas = document.getElementById('canvas');\n        let ctx = canvas.getContext('2d');\n\n        let image = new Image(); // 创建一个<img>元素\n        image.src = imgUrl; // 设置图片源地址\n        image.onload = () => {\n            ctx.drawImage(image, 0, 0, imgWidth, imgHeight);\n        };\n\n        canvas.width = imgWidth;\n        canvas.height = imgHeight;\n        canvas.style.transform = `scale(${multiple})`;\n    },\n    methods: {\n        handleRemove(file, fileList) {\n            console.log(file, fileList);\n        },\n        handlePreview(file) {\n            console.log(file);\n        },\n        handleSuccess(res, file, fileList) {\n            console.log(res, file, fileList);\n        },\n        handleExceed(files, fileList) {\n            this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n        },\n        beforeRemove(file, fileList) {\n            return this.$confirm(`确定移除 ${file.name}？`);\n        },\n\n        // 处理canvas外层的宽高以及canvas的缩放率（324，576为最外层容器固定宽高）\n        handleShellWidthHeight(domWidth, domHeight) {\n            let width = 324,\n                multiple = countNum(324, domWidth, 'div', 6),\n                height = countNum(domHeight, multiple, 'mul', 6);\n            return { width, height, multiple };\n        },\n        zoom(type) {\n            let _obj = {\n                deltaY: type,\n            };\n            canvasContainer.onWheel(_obj);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    width: 100vw;\n    height: 100vh;\n\n    .img-container {\n        width: 324px;\n        height: 576px;\n        overflow: hidden;\n        border: 1px solid black;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        box-sizing: border-box;\n\n        .canvas-shell {\n            width: 324px;\n            height: 576px;\n            // transition: transform 0.2s cubic-bezier(0, 0, 0.25, 1) 0s;\n\n            #canvas {\n                transform-origin: left top;\n            }\n        }\n    }\n}\n</style>\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { render } from \"./convertImgIntoCanvas.vue?vue&type=template&id=a241df08&scoped=true\"\nimport script from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./convertImgIntoCanvas.vue?vue&type=script&lang=js\"\n\nimport \"./convertImgIntoCanvas.vue?vue&type=style&index=0&id=a241df08&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/lishuyu/myProject/personalWebsite/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a241df08\"]])\n\nexport default __exports__"],"names":["countNum","aaa","bbb","op","fixed","new_num","String","operation","Number","toFixed","result","slice","length","isInteger","obj","Math","floor","toInteger","floatNum","ret","times","num","strfi","dotPos","indexOf","len","substr","time","pow","intNum","parseInt","o1","o2","n1","n2","t1","t2","max","class","_createElementVNode","slot","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","$event","$options","zoom","_createVNode","_component_el_upload","action","handlePreview","handleRemove","handleSuccess","beforeRemove","multiple","limit","handleExceed","_ctx","fileList","_component_el_button","size","type","_hoisted_5","_hoisted_6","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","Scene","constructor","options","height","shellName","outDomName","x","y","e","button","this","clientX","transSet","clientY","window","addEventListener","onMousemove","onMouseup","paint","removeEventListener","_currentMultiple","deltaY","handleOffset","handleTransform","width","shell","style","replace","maxOffset","transX","transY","top","left","right","bottom","getBoundingClientRect","outDomTop","outDomLeft","outDomRight","outDomBottom","outDomCoordinate","min","transform","document","getElementById","outDom","onMousedown","onWheel","handleBorder","canvasContainer","name","components","data","url","computed","mounted","imgUrl","imgWidth","imgHeight","handleShellWidthHeight","img","canvas","ctx","getContext","image","Image","src","onload","drawImage","methods","file","console","log","res","files","$message","warning","$confirm","domWidth","domHeight","_obj","__exports__","render"],"sourceRoot":""}